import React from "react";
import Button from "../Button/Button";
import { useDispatch } from "react-redux";
import { closeLoginModal } from "../../features/loginModalSlice";
import { useSelector } from "react-redux";
import Login from "../Login/Login";
import Register from "../Register/Register";

const LoginModal = () => {
    const dispatch = useDispatch();
    const { isOpen, type } = useSelector((state) => state.loginModal);

    if (!isOpen) return null;
    return (
        <div className="fixed inset-0 mx-auto flex h-screen w-screen flex-col items-center justify-center bg-[#252422] bg-opacity-25 backdrop-blur-sm">
            <div className="relative flex h-[60vh] w-96 flex-col items-center rounded-2xl border-2 border-bgSecondary p-10">
                <div className="">
                    <svg
                        
                        width="135"
                        height="36"
                        viewBox="0 0 135 36"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M9.99165 36C8.005 36 6.25208 35.7647 4.73288 35.2941C3.25271 34.7842 2.0841 33.7842 1.22705 32.2941C0.409018 30.804 0 28.5687 0 25.5882V7.88236C0 5.88236 0.409018 4.31366 1.22705 3.17647C2.0841 2.03929 3.25271 1.23529 4.73288 0.764703C6.25208 0.254829 8.005 0 9.99165 0C11.9783 0 13.7312 0.254829 15.2504 0.764703C16.7696 1.23529 17.9576 2.03929 18.8147 3.17647C19.7106 4.31366 20.1586 5.88236 20.1586 7.88236V25.5294C20.1586 28.5489 19.7106 30.804 18.8147 32.2941C17.9576 33.7842 16.7696 34.7842 15.2504 35.2941C13.7312 35.7647 11.9783 36 9.99165 36ZM9.99165 31.2353C10.3813 31.2353 10.7318 31.1569 11.0434 31C11.394 30.8431 11.6471 30.5882 11.803 30.2353C11.9589 29.8431 12.0367 29.3334 12.0367 28.7059V7.5294C12.0367 6.94117 11.9589 6.45105 11.803 6.05882C11.6471 5.66659 11.394 5.39223 11.0434 5.2353C10.7318 5.07836 10.3813 5 9.99165 5C9.60204 5 9.25146 5.07836 8.9399 5.2353C8.62834 5.39223 8.375 5.66659 8.1803 6.05882C8.02441 6.45105 7.94657 6.94117 7.94657 7.5294V28.7059C7.94657 29.3334 8.02441 29.8431 8.1803 30.2353C8.375 30.5882 8.62834 30.8431 8.9399 31C9.25146 31.1569 9.60204 31.2353 9.99165 31.2353ZM23.6886 35.2941V0.52941H37.0693C39.4843 0.52941 41.2763 1.07836 42.4449 2.17647C43.6135 3.23529 44.1978 4.64706 44.1978 6.41176V11.8235C44.1978 13.549 43.7498 15.0784 42.8539 16.4118C41.9969 17.7452 40.5361 18.5099 38.4716 18.7059V18.8235C39.7961 19.0588 40.731 19.5099 41.2763 20.1765C41.8216 20.804 42.289 21.8431 42.6786 23.2941L45.8339 35.2941H36.8356L34.5568 23.8235C34.3621 22.9607 34.1671 22.2746 33.9724 21.7647C33.7777 21.2158 33.505 20.9412 33.1544 20.9412H32.1611V35.2941H23.6886ZM32.1611 15.2353H33.9724C34.7515 15.2353 35.3164 14.9805 35.6669 14.4706C36.0566 13.9607 36.2513 13.1177 36.2513 11.9412V7.94118C36.2513 6.76471 36.0954 5.96072 35.7838 5.52941C35.4722 5.09811 34.9658 4.88236 34.2646 4.88236H32.1611V15.2353ZM46.7615 35.2941L52.254 0.52941H64.1154L69.491 35.2941H60.4343L59.6747 29.5882H56.1688L55.5261 35.2941H46.7615ZM56.2273 25.5882H59.6747L57.9802 7.29411L56.2273 25.5882ZM71.7913 35.2941V0.52941H78.803L84.4708 19.0588V0.52941H91.5401V35.2941H84.5292L78.9199 18.3529V35.2941H71.7913ZM102.661 35.8824C101.413 35.8824 100.207 35.6666 99.038 35.2353C97.9069 34.804 96.9533 33.9216 96.1749 32.5882C95.4341 31.2548 95.0647 29.2941 95.0647 26.7059V8.00001C95.0647 6.00001 95.4737 4.4313 96.2917 3.29412C97.1473 2.11765 98.3159 1.29411 99.7976 0.823526C101.277 0.352938 103.03 0.117647 105.056 0.117647C107.043 0.117647 108.796 0.372475 110.315 0.882349C111.834 1.35294 113.022 2.15693 113.879 3.29412C114.775 4.4313 115.223 6.00001 115.223 8.00001V13.1176H107.335V7.5294C107.335 6.82352 107.237 6.29412 107.043 5.94118C106.886 5.58823 106.653 5.35294 106.342 5.2353C106.068 5.07836 105.699 5 105.232 5C104.841 5 104.491 5.07836 104.18 5.2353C103.867 5.35294 103.614 5.58823 103.42 5.94118C103.264 6.29412 103.187 6.82352 103.187 7.5294V28.7059C103.187 29.3725 103.264 29.9019 103.42 30.2941C103.614 30.6864 103.867 30.9412 104.18 31.0588C104.491 31.1765 104.841 31.2353 105.232 31.2353C105.893 31.2353 106.4 31.0393 106.751 30.6471C107.139 30.2548 107.335 29.6078 107.335 28.7059V22H105.232V17.4118H115.223V35.2941H109.088L108.679 32.8235C108.679 32.8628 108.658 32.9216 108.621 33C108.581 33.0393 108.541 33.0784 108.504 33.1176C108.191 33.7452 107.569 34.3725 106.634 35C105.737 35.5882 104.414 35.8824 102.661 35.8824ZM118.639 35.2941V0.52941H135V6.23529H127.112V14.2353H134.007V20.6471H127.112V29.7059H135V35.2941H118.639Z"
                            fill="#EB5E28"
                        />
                    </svg>
                </div>
                <button
                    onClick={() => {
                        dispatch(closeLoginModal());
                    }}
                    className="absolute right-4 top-2 text-2xl text-red-500"
                >
                    &times;
                </button>
                {type === "login" ? <Login /> : <Register />}
            </div>
        </div>
    );
};

export default LoginModal;
